(function(e){function t(t){for(var r,c,o=t[0],i=t[1],u=t[2],b=0,p=[];b<o.length;b++)c=o[b],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},n={app:0},s=[];function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"009f":function(e,t,a){},"025b":function(e,t,a){"use strict";var r=a("1b7c"),n=a.n(r);n.a},"0309":function(e,t,a){"use strict";var r=a("b16f"),n=a.n(r);n.a},"0fba":function(e,t,a){},"16e8":function(e,t,a){},"17cd":function(e,t,a){},"1b7c":function(e,t,a){},"1fba":function(e,t,a){"use strict";var r=a("8f56"),n=a.n(r);n.a},2998:function(e,t,a){"use strict";var r=a("bcbd"),n=a.n(r);n.a},"2abb":function(e,t,a){"use strict";var r=a("d2c8"),n=a.n(r);n.a},"2d19":function(e,t,a){"use strict";var r=a("009f"),n=a.n(r);n.a},"3a62":function(e,t,a){"use strict";var r=a("ba35"),n=a.n(r);n.a},"3e6e":function(e,t,a){"use strict";var r=a("16e8"),n=a.n(r);n.a},"4c67":function(e,t,a){},"7aa4":function(e,t,a){"use strict";var r=a("8455"),n=a.n(r);n.a},8455:function(e,t,a){},"8f56":function(e,t,a){},9074:function(e,t,a){"use strict";var r=a("b4da"),n=a.n(r);n.a},acfe:function(e,t,a){"use strict";var r=a("4c67"),n=a.n(r);n.a},b16f:function(e,t,a){},b4da:function(e,t,a){},ba35:function(e,t,a){},bcbd:function(e,t,a){},bde0:function(e,t,a){},c862:function(e,t,a){"use strict";var r=a("bde0"),n=a.n(r);n.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=(a("98db"),a("fb98"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.loading?a("BaseLoading",{staticClass:"center",attrs:{message:"Loading weather data"}}):e.error?a("BaseError",{staticClass:"center",attrs:{error:e.error}}):a("transition",{attrs:{name:"slide-up"}},[a("router-view")],1)],1)}),s=[],c=(a("96cf"),a("1da1")),o=a("d4ec"),i=a("bee2"),u=a("262e"),l=a("2caf"),b=a("9ab4"),p=a("60a3"),d=a("4bb5"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading"},[a("svg",{staticClass:"svg",attrs:{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[a("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),a("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])]),a("span",[e._v(e._s(e.message))])])},h=[],v=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({default:""})],v.prototype,"message",void 0),v=Object(b["a"])([p["a"]],v);var m=v,y=m,g=(a("ecfd"),a("2877")),O=Object(g["a"])(y,f,h,!1,null,"3b84e410",null),j=O.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"error"},[a("i",{staticClass:"icon-sad icon",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.error)+" ")])},_=[],w=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],w.prototype,"error",void 0),w=Object(b["a"])([p["a"]],w);var x=w,C=x,S=(a("c862"),Object(g["a"])(C,k,_,!1,null,"3557a366",null)),T=S.exports,E=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e.error="",e}return Object(i["a"])(a,[{key:"created",value:function(){this.init()}},{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAvailableData();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.error="Sorry, an error occurred. Please refresh the page or try again later.";case 8:return e.prev=8,this.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,5,8,11]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(p["c"]);Object(b["a"])([d["a"]],E.prototype,"fetchAvailableData",void 0),E=Object(b["a"])([Object(p["a"])({components:{BaseLoading:j,BaseError:T}})],E);var I=E,A=I,q=(a("cf06"),Object(g["a"])(A,n,s,!1,null,"7b74a930",null)),B=q.exports,M=a("9483");Object(M["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var $=a("8c4f"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page"},[a("h1",{staticClass:"title"},[e._v(" oeteM | Meteo ")]),a("p",{staticClass:"intro"},[e._v(" Find where your favourite weather will be ")]),a("ButtonText",{staticClass:"page-button",attrs:{label:"Start",type:"button"},on:{click:e.start}})],1)},P=[],R=(a("4de4"),a("4160"),a("caad"),a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("07ac"),a("25f0"),a("2532"),a("159b"),a("5530")),L={DATE:"oetem.date",AREAS:"oetem.areas",MIN_TEMPERATURE:"oetem.minTemperature",MAX_TEMPERATURE:"oetem.maxTemperature",SKYS:"oetem.skys"};function N(e){sessionStorage.setItem(L.DATE,e)}function W(e){sessionStorage.setItem(L.AREAS,JSON.stringify(e))}function J(e){sessionStorage.setItem(L.MIN_TEMPERATURE,e.toString())}function U(e){sessionStorage.setItem(L.MAX_TEMPERATURE,e.toString())}function V(e){sessionStorage.setItem(L.SKYS,JSON.stringify(e))}function Q(){return sessionStorage.getItem(L.DATE)||""}function F(){var e=sessionStorage.getItem(L.AREAS);return null===e?[]:JSON.parse(e)}function H(e){var t=sessionStorage.getItem(L.MIN_TEMPERATURE);return null===t?e:Number(t)}function K(e){var t=sessionStorage.getItem(L.MAX_TEMPERATURE);return null===t?e:Number(t)}function X(){var e=sessionStorage.getItem(L.SKYS);return null===e?[]:JSON.parse(e)}function Y(){Object.values(L).forEach((function(e){sessionStorage.removeItem(e)}))}var z={"changhua-county":"10007","chiayi-city":"10020","chiayi-county":"10010","hualien-county":"10015","hsinchu-city":"10018","hsinchu-county":"10004","kaohsiung-city":"64","keelung-city":"10017","miaoli-county":"10005","nantou-county":"10008","new-taipei-city":"65","penghu-county":"10016","pingtung-county":"10013","taichung-city":"66","tainan-city":"67","taipei-city":"63","taitung-county":"10014","taoyuan-city":"68","yilan-county":"10002","yunlin-county":"10009"};function G(e,t,a,r){return e.minTemperature.value>=t&&e.maxTemperature.value<=a&&r.includes(e.sky.id)}function Z(e,t,a,r){return e.locations?e.locations.filter((function(e){return G(e.weather,t,a,r)})).map((function(t){return Object(R["a"])(Object(R["a"])({},t),{},{areaName:e.name,weather:{maxTemperature:t.weather.maxTemperature,minTemperature:t.weather.minTemperature,sky:t.weather.sky}})})):[]}var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({staticClass:"button"},e.$listeners),[e._v(" "+e._s(e.label)+" ")])},te=[],ae=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],ae.prototype,"label",void 0),ae=Object(b["a"])([p["a"]],ae);var re=ae,ne=re,se=(a("2998"),Object(g["a"])(ne,ee,te,!1,null,"ae6d933c",null)),ce=se.exports,oe=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,[{key:"start",value:function(){Y(),this.$router.push({name:"When"})}}]),a}(p["c"]);oe=Object(b["a"])([Object(p["a"])({components:{ButtonText:ce}})],oe);var ie=oe,ue=ie,le=(a("9074"),Object(g["a"])(ue,D,P,!1,null,"cfd419b6",null)),be=le.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"When?",quote:"Every day brings new choices.",author:"Martha Beck",subtitles:["Choose a date you can go out:"],"submit-label":"One more question",valid:!!e.selectedDate},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("div",{staticClass:"group",attrs:{role:"radiogroup","aria-labelledby":"subtitle0"}},e._l(e.dates,(function(t){return a("InputDate",{key:t,attrs:{date:t},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})})),1)]},proxy:!0}])})},de=[],fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page"},[a("ButtonIcon",{staticClass:"page-previous",attrs:{label:"Previous page",icon:"previous"},on:{click:function(t){return e.$router.back()}}}),a("h1",{staticClass:"page-title"},[e._v(" "+e._s(e.title)+" ")]),a("BaseQuote",{staticClass:"page-quote",attrs:{quote:e.quote,author:e.author}}),a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.$emit("submit")}}},[e._l(e.subtitles,(function(t,r){return a("section",{key:r,staticClass:"section"},[a("h2",{staticClass:"page-subtitle",attrs:{id:"subtitle"+r}},[e._v(" "+e._s(t)+" ")]),e._t("section"+r)],2)})),a("ButtonText",{staticClass:"page-button",attrs:{label:e.submitLabel,disabled:!e.valid}})],2)],1)},he=[],ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("blockquote",{staticClass:"wrapper"},[a("p",{staticClass:"quote"},[e._v(' "'+e._s(e.quote)+'" ')]),a("footer",{staticClass:"author"},[e._v(" ― "+e._s(e.author)+" ")])])},me=[],ye=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],ye.prototype,"quote",void 0),Object(b["a"])([Object(p["b"])({required:!0})],ye.prototype,"author",void 0),ye=Object(b["a"])([p["a"]],ye);var ge=ye,Oe=ge,je=(a("1fba"),Object(g["a"])(Oe,ve,me,!1,null,"0477beed",null)),ke=je.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({class:"icon-"+e.icon+" button",attrs:{"aria-label":e.label,title:e.label}},e.$listeners))},we=[],xe=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],xe.prototype,"label",void 0),Object(b["a"])([Object(p["b"])({required:!0})],xe.prototype,"icon",void 0),xe=Object(b["a"])([p["a"]],xe);var Ce=xe,Se=Ce,Te=(a("0309"),Object(g["a"])(Se,_e,we,!1,null,"1c0bd476",null)),Ee=Te.exports,Ie=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"title",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"quote",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"author",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"subtitles",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"submitLabel",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Ie.prototype,"valid",void 0),Ie=Object(b["a"])([Object(p["a"])({components:{BaseQuote:ke,ButtonIcon:Ee,ButtonText:ce}})],Ie);var Ae=Ie,qe=Ae,Be=(a("3a62"),Object(g["a"])(qe,fe,he,!1,null,"6b79fba7",null)),Me=Be.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"wrapper"},[a("input",{staticClass:"input",attrs:{type:"radio"},domProps:{value:e.date,checked:e.value===e.date},on:{change:function(t){return e.$emit("change",e.date)}}}),a("div",{staticClass:"label"},[a("span",{staticClass:"month"},[e._v(e._s(e.monthLabel))]),a("span",{staticClass:"date"},[e._v(e._s(e.dateLabel))]),a("span",{staticClass:"day"},[e._v(e._s(e.dayLabel))])])])},De=[],Pe=a("2cf3"),Re=a("b166"),Le=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,[{key:"parsedDate",get:function(){return Object(Pe["a"])(this.date,"yyyyMMdd",new Date)}},{key:"monthLabel",get:function(){return Object(Re["a"])(this.parsedDate,"MMMM")}},{key:"dateLabel",get:function(){return this.parsedDate.getDate()}},{key:"dayLabel",get:function(){return Object(Re["a"])(this.parsedDate,"EEEE")}}]),a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],Le.prototype,"date",void 0),Object(b["a"])([Object(p["b"])({required:!0})],Le.prototype,"value",void 0),Le=Object(b["a"])([Object(p["a"])({model:{event:"change"}})],Le);var Ne=Le,We=Ne,Je=(a("025b"),Object(g["a"])(We,$e,De,!1,null,"8b288c1e",null)),Ue=Je.exports,Ve=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.selectedDate=Q(),e}return Object(i["a"])(a,[{key:"save",value:function(){N(this.selectedDate),this.$router.push({name:"Where"})}}]),a}(p["c"]);Object(b["a"])([d["b"]],Ve.prototype,"dates",void 0),Ve=Object(b["a"])([Object(p["a"])({components:{BasePage:Me,InputDate:Ue}})],Ve);var Qe=Ve,Fe=Qe,He=Object(g["a"])(Fe,pe,de,!1,null,null,null),Ke=He.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"Where?",quote:"Wherever you go, no matter what the weather, always bring your own sunshine.",author:"Anthony J. D'Angelo",subtitles:["Choose the places you want to go:"],"submit-label":"Last question",valid:e.selectedAreaIds.length>0},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("CheckboxSvgMap",{staticClass:"map",attrs:{map:e.taiwan},model:{value:e.selectedAreaIds,callback:function(t){e.selectedAreaIds=t},expression:"selectedAreaIds"}}),a("div",{staticClass:"group"},e._l(e.selectedAreaIds,(function(t){return a("AreaTag",{key:t,attrs:{area:e.getArea(t)},on:{remove:e.removeArea}})})),1)]},proxy:!0}])})},Ye=[],ze=(a("7db0"),a("75de")),Ge=a("a675"),Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"tag",attrs:{type:"button",title:"Remove "+e.area.name},on:{click:function(t){return e.$emit("remove",e.area.id)}}},[e._v(" "+e._s(e.area.name)+" "),a("i",{staticClass:"icon-close icon",attrs:{"aria-hidden":"true"}})])},et=[],tt=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],tt.prototype,"area",void 0),tt=Object(b["a"])([p["a"]],tt);var at=tt,rt=at,nt=(a("2d19"),Object(g["a"])(rt,Ze,et,!1,null,"98e5d2ac",null)),st=nt.exports,ct=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.taiwan=Object(R["a"])(Object(R["a"])({},Ge["a"]),{},{locations:Ge["a"].locations.map((function(e){return Object(R["a"])(Object(R["a"])({},e),{},{id:z[e.id]})}))}),e.selectedAreaIds=F(),e}return Object(i["a"])(a,[{key:"getArea",value:function(e){return this.areas.find((function(t){return t.id===e}))}},{key:"removeArea",value:function(e){this.selectedAreaIds=this.selectedAreaIds.filter((function(t){return t!==e}))}},{key:"save",value:function(){W(this.selectedAreaIds),this.$router.push({name:"What"})}}]),a}(p["c"]);Object(b["a"])([d["b"]],ct.prototype,"areas",void 0),ct=Object(b["a"])([Object(p["a"])({components:{BasePage:Me,CheckboxSvgMap:ze["a"],AreaTag:st}})],ct);var ot=ct,it=ot,ut=(a("acfe"),Object(g["a"])(it,Xe,Ye,!1,null,"6fa01fb2",null)),lt=ut.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"What?",quote:"There is no such thing as bad weather, only different kinds of good weather.",author:"John Ruskin",subtitles:["Choose the range of temperature you like:","Choose the kinds of sky you like:"],"submit-label":"Search",valid:e.selectedSkyIds.length>0,"previous-route":"Where"},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("VueSlider",e._b({attrs:{"enable-cross":!1,"drag-on-click":!0,"use-keyboard":!0,tooltip:"always","tooltip-placement":"bottom","tooltip-formatter":"{value}°C",height:"8px","dot-size":20},model:{value:e.selectedTemperature,callback:function(t){e.selectedTemperature=t},expression:"selectedTemperature"}},"VueSlider",Object.assign({},e.temperature),!1))]},proxy:!0},{key:"section1",fn:function(){return[a("div",{staticClass:"group"},e._l(e.sortedSkys,(function(t){return a("InputSky",{key:t.id,attrs:{sky:t},model:{value:e.selectedSkyIds,callback:function(t){e.selectedSkyIds=t},expression:"selectedSkyIds"}})})),1)]},proxy:!0}])})},pt=[],dt=a("2909"),ft=a("4971"),ht=a.n(ft),vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"wrapper"},[a("input",{staticClass:"input",attrs:{type:"checkbox"},domProps:{value:e.sky.id,checked:e.checked},on:{change:e.change}}),a("SkyImage",{staticClass:"label",attrs:{sky:e.sky}})],1)},mt=[],yt=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("img",{attrs:{src:"https://www.cwb.gov.tw/V8/assets/img/weather_icons/weathers/svg_icon/day/"+e.sky.id+".svg",alt:e.sky.label,title:e.sky.label}})}),gt=[],Ot=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],Ot.prototype,"sky",void 0),Ot=Object(b["a"])([p["a"]],Ot);var jt=Ot,kt=jt,_t=Object(g["a"])(kt,yt,gt,!1,null,null,null),wt=_t.exports,xt=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,[{key:"change",value:function(){var e=this,t=this.checked?this.value.filter((function(t){return t!==e.sky.id})):[].concat(Object(dt["a"])(this.value),[this.sky.id]);this.$emit("change",t)}},{key:"checked",get:function(){return this.value.includes(this.sky.id)}}]),a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],xt.prototype,"sky",void 0),Object(b["a"])([Object(p["b"])({required:!0})],xt.prototype,"value",void 0),xt=Object(b["a"])([Object(p["a"])({components:{SkyImage:wt},model:{event:"change"}})],xt);var Ct=xt,St=Ct,Tt=(a("3e6e"),Object(g["a"])(St,vt,mt,!1,null,"2cef4f50",null)),Et=Tt.exports,It=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.selectedTemperature=[],e.selectedSkyIds=X(),e}return Object(i["a"])(a,[{key:"created",value:function(){this.selectedTemperature[0]=H(this.temperature.min),this.selectedTemperature[1]=K(this.temperature.max)}},{key:"save",value:function(){J(this.selectedTemperature[0]),U(this.selectedTemperature[1]),V(this.selectedSkyIds),this.$router.push({name:"Matches"})}},{key:"sortedSkys",get:function(){return Object(dt["a"])(this.skys).sort((function(e,t){return Number(e.id)-Number(t.id)}))}}]),a}(p["c"]);Object(b["a"])([d["b"]],It.prototype,"temperature",void 0),Object(b["a"])([d["b"]],It.prototype,"skys",void 0),It=Object(b["a"])([Object(p["a"])({components:{BasePage:Me,InputSky:Et,VueSlider:ht.a}})],It);var At=It,qt=At,Bt=Object(g["a"])(qt,bt,pt,!1,null,null,null),Mt=Bt.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page matches-page"},[a("ButtonIcon",{staticClass:"page-previous",attrs:{label:"Previous page",icon:"previous"},on:{click:function(t){return e.$router.back()}}}),a("h1",{staticClass:"page-title"},[e._v(" Matches ")]),a("BaseQuote",{staticClass:"page-quote",attrs:{quote:"Climate is what we expect, weather is what we get.",author:"Mark Twain"}}),e.loading?a("BaseLoading",{attrs:{message:"Searching for the best locations"}}):e.error?a("BaseError",{attrs:{error:e.error}}):[a("h2",{staticClass:"page-subtitle"},[e._v(" "+e._s(e.subtitle)+" ")]),a("ul",{staticClass:"matches"},e._l(e.matchedLocations,(function(e){return a("li",{key:e.geocode,staticClass:"match"},[a("LocationCard",{attrs:{location:e}})],1)})),0)],a("ButtonText",{staticClass:"page-button",attrs:{label:"Try again"},on:{click:e.restart}})],2)},Dt=[],Pt=(a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),"https://oetem.victorcazanave.com/"),Rt={getAvailableData:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pt,"init.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},getWeather:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Pt).concat(e,"_").concat(t,".json"));case 2:return r=a.sent,a.next=5,r.json();case 5:return n=a.sent,a.abrupt("return",n.area);case 7:case"end":return a.stop()}}),a)})))()}},Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[e._v(e._s(e.location.name))]),a("div",{staticClass:"criteria"},[e._v(" "+e._s(e.location.areaName)+" "),a("span",{staticClass:"separator"},[e._v("-")]),e._v(" "+e._s(e.location.weather.minTemperature.value)+"°"+e._s(e.location.weather.minTemperature.unit)+" / "+e._s(e.location.weather.maxTemperature.value)+"°"+e._s(e.location.weather.maxTemperature.unit)+" "),a("span",{staticClass:"separator"},[e._v("-")]),a("SkyImage",{attrs:{sky:e.location.weather.sky,width:"24",height:"auto"}})],1)]),a("div",{staticClass:"links"},[a("a",{staticClass:"icon-sphere link",attrs:{href:"https://www.cwb.gov.tw/V8/E/W/Town/Town.html?TID="+e.location.geocode,target:"_blank",rel:"”noopener”",title:"See weather forecast"}}),a("a",{staticClass:"icon-location link",attrs:{href:"https://www.google.com/maps?q="+e.location.lat+","+e.location.lon,target:"_blank",rel:"”noopener”",title:"See map"}})])])},Nt=[],Wt=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);Object(b["a"])([Object(p["b"])({required:!0})],Wt.prototype,"location",void 0),Wt=Object(b["a"])([Object(p["a"])({components:{SkyImage:wt,ButtonIcon:Ee}})],Wt);var Jt=Wt,Ut=Jt,Vt=(a("7aa4"),Object(g["a"])(Ut,Lt,Nt,!1,null,"67027f74",null)),Qt=Vt.exports,Ft=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e.error="",e.date=Q(),e.areaIds=F(),e.minTemperature=H(-100),e.maxTemperature=K(100),e.skys=X(),e.matchedLocations=[],e}return Object(i["a"])(a,[{key:"created",value:function(){console.log("T",this.maxTemperature),this.date&&this.areaIds.length>0&&this.skys.length>0?this.search():(this.loading=!1,this.error="Sorry, some criteria are missing. Please try again.")}},{key:"search",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(this.areaIds.map((function(e){return Rt.getWeather(a.date,e)})));case 3:t=e.sent,t.forEach((function(e){var t=Z(e,a.minTemperature,a.maxTemperature,a.skys);a.matchedLocations=[].concat(Object(dt["a"])(a.matchedLocations),Object(dt["a"])(t))})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.error="Sorry, an error occurred. Please refresh the page or try again.";case 10:return e.prev=10,this.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"restart",value:function(){this.$router.push({name:"Home"})}},{key:"subtitle",get:function(){return 0===this.matchedLocations.length?"Sorry, no place matches your criteria.":1===this.matchedLocations.length?"Here is the perfect place for you:":"".concat(this.matchedLocations.length," places match your criteria:")}}]),a}(p["c"]);Ft=Object(b["a"])([Object(p["a"])({components:{BaseQuote:ke,BaseLoading:j,BaseError:T,ButtonIcon:Ee,ButtonText:ce,LocationCard:Qt}})],Ft);var Ht=Ft,Kt=Ht,Xt=(a("2abb"),Object(g["a"])(Kt,$t,Dt,!1,null,"27d27116",null)),Yt=Xt.exports;r["default"].use($["a"]);var zt=[{path:"/",name:"Home",component:be},{path:"/when",name:"When",component:Ke},{path:"/where",name:"Where",component:lt},{path:"/what",name:"What",component:Mt},{path:"/matches",name:"Matches",component:Yt}],Gt=new $["a"]({routes:zt}),Zt=Gt,ea=a("2f62");r["default"].use(ea["a"]);var ta=new ea["a"].Store({state:{dates:[],areas:[],skys:[],temperature:{}},mutations:{setAvailableData:function(e,t){var a=t.dates,r=t.areas,n=t.skys,s=t.temperature;e.dates=a,e.areas=r,e.skys=n,e.temperature=s}},actions:{fetchAvailableData:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Rt.getAvailableData();case 3:r=t.sent,a("setAvailableData",r);case 5:case"end":return t.stop()}}),t)})))()}},modules:{}});r["default"].config.productionTip=!1,new r["default"]({router:Zt,store:ta,render:function(e){return e(B)}}).$mount("#app")},cf06:function(e,t,a){"use strict";var r=a("17cd"),n=a.n(r);n.a},d2c8:function(e,t,a){},ecfd:function(e,t,a){"use strict";var r=a("0fba"),n=a.n(r);n.a},fb98:function(e,t,a){}});
//# sourceMappingURL=app.018aabf4.js.map