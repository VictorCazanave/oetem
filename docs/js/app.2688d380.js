(function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],b=0,p=[];b<c.length;b++)o=c[b],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,c=1;c<a.length;c++){var i=a[c];0!==n[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/oetem/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"009f":function(e,t,a){},"0fba":function(e,t,a){},"17cd":function(e,t,a){},"19fd":function(e,t,a){"use strict";var r=a("6563"),n=a.n(r);n.a},"1fba":function(e,t,a){"use strict";var r=a("8f56"),n=a.n(r);n.a},"28b2":function(e,t,a){"use strict";var r=a("2d84"),n=a.n(r);n.a},2998:function(e,t,a){"use strict";var r=a("bcbd"),n=a.n(r);n.a},"2abb":function(e,t,a){"use strict";var r=a("d2c8"),n=a.n(r);n.a},"2d19":function(e,t,a){"use strict";var r=a("009f"),n=a.n(r);n.a},"2d84":function(e,t,a){},"3a62":function(e,t,a){"use strict";var r=a("ba35"),n=a.n(r);n.a},"408f":function(e,t,a){},"4c67":function(e,t,a){},"5d73":function(e,t,a){},6563:function(e,t,a){},"7aa4":function(e,t,a){"use strict";var r=a("8455"),n=a.n(r);n.a},8455:function(e,t,a){},"87b6":function(e,t,a){"use strict";var r=a("d8b0"),n=a.n(r);n.a},"8ccd":function(e,t,a){"use strict";var r=a("408f"),n=a.n(r);n.a},"8f56":function(e,t,a){},acfe:function(e,t,a){"use strict";var r=a("4c67"),n=a.n(r);n.a},ba35:function(e,t,a){},bcbd:function(e,t,a){},bde0:function(e,t,a){},c862:function(e,t,a){"use strict";var r=a("bde0"),n=a.n(r);n.a},ca9e:function(e,t,a){"use strict";var r=a("d405"),n=a.n(r);n.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("1881"),s=a.n(n),o=(a("98db"),a("fb98"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.loading?a("BaseLoading",{staticClass:"center",attrs:{message:"Loading weather data"}}):e.error?a("BaseError",{staticClass:"center",attrs:{error:e.error}}):a("transition",{attrs:{name:"slide-up"}},[a("router-view")],1)],1)}),c=[],i=(a("96cf"),a("1da1")),u=a("d4ec"),l=a("bee2"),b=a("262e"),p=a("2caf"),d=a("9ab4"),h=a("60a3"),f=a("4bb5"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading"},[a("svg",{staticClass:"svg",attrs:{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[a("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),a("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])]),a("span",[e._v(e._s(e.message))])])},m=[],y=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({default:""})],y.prototype,"message",void 0),y=Object(d["a"])([h["a"]],y);var g=y,O=g,j=(a("ecfd"),a("2877")),k=Object(j["a"])(O,v,m,!1,null,"3b84e410",null),_=k.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"error"},[a("i",{staticClass:"icon-sad icon",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.error)+" ")])},C=[],x=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],x.prototype,"error",void 0),x=Object(d["a"])([h["a"]],x);var S=x,T=S,E=(a("c862"),Object(j["a"])(T,w,C,!1,null,"3557a366",null)),A=E.exports,I=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e.error="",e}return Object(l["a"])(a,[{key:"created",value:function(){this.init()}},{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAvailableData();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.error="Sorry, an error occurred. Please refresh the page or try again later.";case 8:return e.prev=8,this.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,5,8,11]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(h["c"]);Object(d["a"])([f["a"]],I.prototype,"fetchAvailableData",void 0),I=Object(d["a"])([Object(h["a"])({components:{BaseLoading:_,BaseError:A}})],I);var M=I,B=M,q=(a("cf06"),Object(j["a"])(B,o,c,!1,null,"7b74a930",null)),$=q.exports,D=a("9483");Object(D["a"])("".concat("/oetem/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var P=a("8c4f"),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page home"},[a("h1",{staticClass:"title"},[e._v(" oeteM | Meteo ")]),a("p",{staticClass:"intro"},[e._v(" Find where your favourite weather will be ")]),a("aside",{staticClass:"sidebar"},[a("ButtonIcon",{attrs:{label:"About",icon:"about"},on:{click:function(t){return e.$modal.show("about")}}})],1),a("ButtonText",{staticClass:"page-button",attrs:{label:"Start",type:"button"},on:{click:e.start}}),a("MovingClouds",{staticClass:"clouds"}),a("AboutModal")],1)},L=[],N=(a("4de4"),a("4160"),a("caad"),a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("07ac"),a("25f0"),a("2532"),a("159b"),a("5530")),W={DATE:"oetem.date",AREAS:"oetem.areas",MIN_TEMPERATURE:"oetem.minTemperature",MAX_TEMPERATURE:"oetem.maxTemperature",SKYS:"oetem.skys"};function J(e){sessionStorage.setItem(W.DATE,e)}function U(e){sessionStorage.setItem(W.AREAS,JSON.stringify(e))}function V(e){sessionStorage.setItem(W.MIN_TEMPERATURE,e.toString())}function H(e){sessionStorage.setItem(W.MAX_TEMPERATURE,e.toString())}function Q(e){sessionStorage.setItem(W.SKYS,JSON.stringify(e))}function z(){return sessionStorage.getItem(W.DATE)||""}function F(){var e=sessionStorage.getItem(W.AREAS);return null===e?[]:JSON.parse(e)}function K(e){var t=sessionStorage.getItem(W.MIN_TEMPERATURE);return null===t?e:Number(t)}function X(e){var t=sessionStorage.getItem(W.MAX_TEMPERATURE);return null===t?e:Number(t)}function Y(){var e=sessionStorage.getItem(W.SKYS);return null===e?[]:JSON.parse(e)}function G(){Object.values(W).forEach((function(e){sessionStorage.removeItem(e)}))}var Z={"changhua-county":"10007","chiayi-city":"10020","chiayi-county":"10010","hualien-county":"10015","hsinchu-city":"10018","hsinchu-county":"10004","kaohsiung-city":"64","keelung-city":"10017","miaoli-county":"10005","nantou-county":"10008","new-taipei-city":"65","penghu-county":"10016","pingtung-county":"10013","taichung-city":"66","tainan-city":"67","taipei-city":"63","taitung-county":"10014","taoyuan-city":"68","yilan-county":"10002","yunlin-county":"10009"};function ee(e,t,a,r){return e.minTemperature.value>=t&&e.maxTemperature.value<=a&&r.includes(e.sky.id)}function te(e,t,a,r){return e.locations?e.locations.filter((function(e){return ee(e.weather,t,a,r)})).map((function(t){return Object(N["a"])(Object(N["a"])({},t),{},{areaName:e.name,weather:{maxTemperature:t.weather.maxTemperature,minTemperature:t.weather.minTemperature,sky:t.weather.sky}})})):[]}var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({class:"icon-"+e.icon+" button",attrs:{"aria-label":e.label,title:e.label}},e.$listeners))},re=[],ne=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],ne.prototype,"label",void 0),Object(d["a"])([Object(h["b"])({required:!0})],ne.prototype,"icon",void 0),ne=Object(d["a"])([h["a"]],ne);var se=ne,oe=se,ce=(a("ca9e"),Object(j["a"])(oe,ae,re,!1,null,"519244a5",null)),ie=ce.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({staticClass:"button"},e.$listeners),[e._v(" "+e._s(e.label)+" ")])},le=[],be=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],be.prototype,"label",void 0),be=Object(d["a"])([h["a"]],be);var pe=be,de=pe,he=(a("2998"),Object(j["a"])(de,ue,le,!1,null,"ae6d933c",null)),fe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{"aria-hidden":"true"}},e._l(8,(function(e){return a("div",{key:e,staticClass:"cloud",class:"cloud"+e})})),0)},me=[],ye=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);ye=Object(d["a"])([h["a"]],ye);var ge=ye,Oe=ge,je=(a("19fd"),Object(j["a"])(Oe,ve,me,!1,null,"46a47335",null)),ke=je.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{name:"about",adaptive:!0,width:"80%","min-width":320,"max-width":800,height:"auto",scrollable:!0}},[a("section",{staticClass:"about"},[a("ButtonIcon",{staticClass:"close",attrs:{label:"Close",icon:"close"},on:{click:function(t){return e.$modal.hide("about")}}}),a("h1",{staticClass:"title"},[e._v("About eoteM")]),a("p",[e._v(' oeteM (reverse of "Meteo") is a reverse weather forecast application which helps you to find where the weather you like will be. ')]),a("h2",{staticClass:"subtitle"},[e._v("How to use it?")]),a("ol",[a("li",[e._v("Choose a date you can go out to enjoy the weather.")]),a("li",[e._v(" Choose places you want to go: "),a("span",{staticClass:"example"},[e._v("Taipei City, Hsinchu County...")])]),a("li",[e._v(" Choose the weather you like: "),a("span",{staticClass:"example"},[e._v("sunny, between 15° and 25°...")])]),a("li",[e._v("Tada! Get a list of cities that match your criteria.")])]),a("h2",{staticClass:"subtitle"},[e._v("Data")]),a("p",{staticClass:"block__text"},[e._v(" All the data are provided by the "),a("a",{staticClass:"block__text__link",attrs:{href:"http://www.cwb.gov.tw/",target:"_blank",rel:"noopener"}},[e._v(" Taiwan Central Weather Bureau")]),e._v(". ")]),a("footer",{staticClass:"footer"},[e._v(" eoteM v2 created by Victor Cazanave ")])],1)])},we=[],Ce=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Ce=Object(d["a"])([Object(h["a"])({components:{ButtonIcon:ie}})],Ce);var xe=Ce,Se=xe,Te=(a("8ccd"),Object(j["a"])(Se,_e,we,!1,null,"52eddc05",null)),Ee=Te.exports,Ae=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"start",value:function(){G(),this.$router.push({name:"When"})}}]),a}(h["c"]);Ae=Object(d["a"])([Object(h["a"])({components:{ButtonIcon:ie,ButtonText:fe,MovingClouds:ke,AboutModal:Ee}})],Ae);var Ie=Ae,Me=Ie,Be=(a("28b2"),Object(j["a"])(Me,R,L,!1,null,"5db32bca",null)),qe=Be.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"When?",quote:"Every day brings new choices.",author:"Martha Beck",subtitles:["Choose a date you can go out:"],"submit-label":"One more question",valid:!!e.selectedDate},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("div",{staticClass:"group",attrs:{role:"radiogroup","aria-labelledby":"subtitle0"}},e._l(e.dates,(function(t){return a("InputDate",{key:t,attrs:{date:t},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})})),1)]},proxy:!0}])})},De=[],Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page"},[a("ButtonIcon",{staticClass:"page-previous",attrs:{label:"Previous page",icon:"previous"},on:{click:function(t){return e.$router.back()}}}),a("h1",{staticClass:"page-title"},[e._v(" "+e._s(e.title)+" ")]),a("BaseQuote",{staticClass:"page-quote",attrs:{quote:e.quote,author:e.author}}),a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.$emit("submit")}}},[e._l(e.subtitles,(function(t,r){return a("section",{key:r,staticClass:"section"},[a("h2",{staticClass:"page-subtitle",attrs:{id:"subtitle"+r}},[e._v(" "+e._s(t)+" ")]),e._t("section"+r)],2)})),a("ButtonText",{staticClass:"page-button",attrs:{label:e.submitLabel,disabled:!e.valid}})],2)],1)},Re=[],Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("blockquote",{staticClass:"wrapper"},[a("p",{staticClass:"quote"},[e._v(' "'+e._s(e.quote)+'" ')]),a("footer",{staticClass:"author"},[e._v(" ― "+e._s(e.author)+" ")])])},Ne=[],We=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],We.prototype,"quote",void 0),Object(d["a"])([Object(h["b"])({required:!0})],We.prototype,"author",void 0),We=Object(d["a"])([h["a"]],We);var Je=We,Ue=Je,Ve=(a("1fba"),Object(j["a"])(Ue,Le,Ne,!1,null,"0477beed",null)),He=Ve.exports,Qe=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"title",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"quote",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"author",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"subtitles",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"submitLabel",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Qe.prototype,"valid",void 0),Qe=Object(d["a"])([Object(h["a"])({components:{BaseQuote:He,ButtonIcon:ie,ButtonText:fe}})],Qe);var ze=Qe,Fe=ze,Ke=(a("3a62"),Object(j["a"])(Fe,Pe,Re,!1,null,"6b79fba7",null)),Xe=Ke.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"wrapper"},[a("input",{staticClass:"input",attrs:{type:"radio"},domProps:{value:e.date,checked:e.value===e.date},on:{change:function(t){return e.$emit("change",e.date)}}}),a("div",{staticClass:"label"},[a("span",{staticClass:"month"},[e._v(e._s(e.monthLabel))]),a("span",{staticClass:"date"},[e._v(e._s(e.dateLabel))]),a("span",{staticClass:"day"},[e._v(e._s(e.dayLabel))])])])},Ge=[],Ze=a("2cf3"),et=a("b166"),tt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"parsedDate",get:function(){return Object(Ze["a"])(this.date,"yyyyMMdd",new Date)}},{key:"monthLabel",get:function(){return Object(et["a"])(this.parsedDate,"MMMM")}},{key:"dateLabel",get:function(){return this.parsedDate.getDate()}},{key:"dayLabel",get:function(){return Object(et["a"])(this.parsedDate,"EEEE")}}]),a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],tt.prototype,"date",void 0),Object(d["a"])([Object(h["b"])({required:!0})],tt.prototype,"value",void 0),tt=Object(d["a"])([Object(h["a"])({model:{event:"change"}})],tt);var at=tt,rt=at,nt=(a("fdff"),Object(j["a"])(rt,Ye,Ge,!1,null,"142a0b3a",null)),st=nt.exports,ot=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.selectedDate=z(),e}return Object(l["a"])(a,[{key:"save",value:function(){J(this.selectedDate),this.$router.push({name:"Where"})}}]),a}(h["c"]);Object(d["a"])([f["b"]],ot.prototype,"dates",void 0),ot=Object(d["a"])([Object(h["a"])({components:{BasePage:Xe,InputDate:st}})],ot);var ct=ot,it=ct,ut=Object(j["a"])(it,$e,De,!1,null,null,null),lt=ut.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"Where?",quote:"Wherever you go, no matter what the weather, always bring your own sunshine.",author:"Anthony J. D'Angelo",subtitles:["Choose the places you want to go:"],"submit-label":"Last question",valid:e.selectedAreaIds.length>0},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("CheckboxSvgMap",{staticClass:"map",attrs:{map:e.taiwan},model:{value:e.selectedAreaIds,callback:function(t){e.selectedAreaIds=t},expression:"selectedAreaIds"}}),a("div",{staticClass:"group"},e._l(e.selectedAreaIds,(function(t){return a("AreaTag",{key:t,attrs:{area:e.getArea(t)},on:{remove:e.removeArea}})})),1)]},proxy:!0}])})},pt=[],dt=(a("7db0"),a("75de")),ht=a("a675"),ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"tag",attrs:{type:"button",title:"Remove "+e.area.name},on:{click:function(t){return e.$emit("remove",e.area.id)}}},[e._v(" "+e._s(e.area.name)+" "),a("i",{staticClass:"icon-close icon",attrs:{"aria-hidden":"true"}})])},vt=[],mt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],mt.prototype,"area",void 0),mt=Object(d["a"])([h["a"]],mt);var yt=mt,gt=yt,Ot=(a("2d19"),Object(j["a"])(gt,ft,vt,!1,null,"98e5d2ac",null)),jt=Ot.exports,kt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.taiwan=Object(N["a"])(Object(N["a"])({},ht["a"]),{},{locations:ht["a"].locations.map((function(e){return Object(N["a"])(Object(N["a"])({},e),{},{id:Z[e.id]})}))}),e.selectedAreaIds=F(),e}return Object(l["a"])(a,[{key:"getArea",value:function(e){return this.areas.find((function(t){return t.id===e}))}},{key:"removeArea",value:function(e){this.selectedAreaIds=this.selectedAreaIds.filter((function(t){return t!==e}))}},{key:"save",value:function(){U(this.selectedAreaIds),this.$router.push({name:"What"})}}]),a}(h["c"]);Object(d["a"])([f["b"]],kt.prototype,"areas",void 0),kt=Object(d["a"])([Object(h["a"])({components:{BasePage:Xe,CheckboxSvgMap:dt["a"],AreaTag:jt}})],kt);var _t=kt,wt=_t,Ct=(a("acfe"),Object(j["a"])(wt,bt,pt,!1,null,"6fa01fb2",null)),xt=Ct.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasePage",{attrs:{title:"What?",quote:"There is no such thing as bad weather, only different kinds of good weather.",author:"John Ruskin",subtitles:["Choose the range of temperature you like:","Choose the kinds of sky you like:"],"submit-label":"Search",valid:e.selectedSkyIds.length>0,"previous-route":"Where"},on:{submit:e.save},scopedSlots:e._u([{key:"section0",fn:function(){return[a("VueSlider",e._b({attrs:{"enable-cross":!1,"drag-on-click":!0,"use-keyboard":!0,tooltip:"always","tooltip-placement":"bottom","tooltip-formatter":"{value}°C",height:"8px","dot-size":20},model:{value:e.selectedTemperature,callback:function(t){e.selectedTemperature=t},expression:"selectedTemperature"}},"VueSlider",Object.assign({},e.temperature),!1))]},proxy:!0},{key:"section1",fn:function(){return[a("div",{staticClass:"group"},e._l(e.sortedSkys,(function(t){return a("InputSky",{key:t.id,attrs:{sky:t},model:{value:e.selectedSkyIds,callback:function(t){e.selectedSkyIds=t},expression:"selectedSkyIds"}})})),1)]},proxy:!0}])})},Tt=[],Et=a("2909"),At=a("4971"),It=a.n(At),Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"wrapper"},[a("input",{staticClass:"input",attrs:{type:"checkbox"},domProps:{value:e.sky.id,checked:e.checked},on:{change:e.change}}),a("SkyImage",{staticClass:"label",attrs:{sky:e.sky}})],1)},Bt=[],qt=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("img",{attrs:{src:"https://www.cwb.gov.tw/V8/assets/img/weather_icons/weathers/svg_icon/day/"+e.sky.id+".svg",alt:e.sky.label,title:e.sky.label}})}),$t=[],Dt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],Dt.prototype,"sky",void 0),Dt=Object(d["a"])([h["a"]],Dt);var Pt=Dt,Rt=Pt,Lt=Object(j["a"])(Rt,qt,$t,!1,null,null,null),Nt=Lt.exports,Wt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"change",value:function(){var e=this,t=this.checked?this.value.filter((function(t){return t!==e.sky.id})):[].concat(Object(Et["a"])(this.value),[this.sky.id]);this.$emit("change",t)}},{key:"checked",get:function(){return this.value.includes(this.sky.id)}}]),a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],Wt.prototype,"sky",void 0),Object(d["a"])([Object(h["b"])({required:!0})],Wt.prototype,"value",void 0),Wt=Object(d["a"])([Object(h["a"])({components:{SkyImage:Nt},model:{event:"change"}})],Wt);var Jt=Wt,Ut=Jt,Vt=(a("87b6"),Object(j["a"])(Ut,Mt,Bt,!1,null,"766c7208",null)),Ht=Vt.exports,Qt=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.selectedTemperature=[],e.selectedSkyIds=Y(),e}return Object(l["a"])(a,[{key:"created",value:function(){this.selectedTemperature[0]=K(this.temperature.min),this.selectedTemperature[1]=X(this.temperature.max)}},{key:"save",value:function(){V(this.selectedTemperature[0]),H(this.selectedTemperature[1]),Q(this.selectedSkyIds),this.$router.push({name:"Matches"})}},{key:"sortedSkys",get:function(){return Object(Et["a"])(this.skys).sort((function(e,t){return Number(e.id)-Number(t.id)}))}}]),a}(h["c"]);Object(d["a"])([f["b"]],Qt.prototype,"temperature",void 0),Object(d["a"])([f["b"]],Qt.prototype,"skys",void 0),Qt=Object(d["a"])([Object(h["a"])({components:{BasePage:Xe,InputSky:Ht,VueSlider:It.a}})],Qt);var zt=Qt,Ft=zt,Kt=Object(j["a"])(Ft,St,Tt,!1,null,null,null),Xt=Kt.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page matches-page"},[a("ButtonIcon",{staticClass:"page-previous",attrs:{label:"Previous page",icon:"previous"},on:{click:function(t){return e.$router.back()}}}),a("h1",{staticClass:"page-title"},[e._v(" Matches ")]),a("BaseQuote",{staticClass:"page-quote",attrs:{quote:"Climate is what we expect, weather is what we get.",author:"Mark Twain"}}),e.loading?a("BaseLoading",{attrs:{message:"Searching for the best locations"}}):e.error?a("BaseError",{attrs:{error:e.error}}):[a("h2",{staticClass:"page-subtitle"},[e._v(" "+e._s(e.subtitle)+" ")]),a("ul",{staticClass:"matches"},e._l(e.matchedLocations,(function(e){return a("li",{key:e.geocode,staticClass:"match"},[a("LocationCard",{attrs:{location:e}})],1)})),0)],a("ButtonText",{staticClass:"page-button",attrs:{label:"Try again"},on:{click:e.restart}})],2)},Gt=[],Zt=(a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),"https://oetem.victorcazanave.com/"),ea={getAvailableData:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Zt,"init.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},getWeather:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Zt).concat(e,"_").concat(t,".json"));case 2:return r=a.sent,a.next=5,r.json();case 5:return n=a.sent,a.abrupt("return",n.area);case 7:case"end":return a.stop()}}),a)})))()}},ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[e._v(e._s(e.location.name))]),a("div",{staticClass:"criteria"},[e._v(" "+e._s(e.location.areaName)+" "),a("span",{staticClass:"separator"},[e._v("-")]),e._v(" "+e._s(e.location.weather.minTemperature.value)+"°"+e._s(e.location.weather.minTemperature.unit)+" / "+e._s(e.location.weather.maxTemperature.value)+"°"+e._s(e.location.weather.maxTemperature.unit)+" "),a("span",{staticClass:"separator"},[e._v("-")]),a("SkyImage",{attrs:{sky:e.location.weather.sky,width:"24",height:"auto"}})],1)]),a("div",{staticClass:"links"},[a("a",{staticClass:"icon-sphere link",attrs:{href:"https://www.cwb.gov.tw/V8/E/W/Town/Town.html?TID="+e.location.geocode,target:"_blank",rel:"”noopener”",title:"See weather forecast"}}),a("a",{staticClass:"icon-location link",attrs:{href:"https://www.google.com/maps?q="+e.location.lat+","+e.location.lon,target:"_blank",rel:"”noopener”",title:"See map"}})])])},aa=[],ra=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(h["c"]);Object(d["a"])([Object(h["b"])({required:!0})],ra.prototype,"location",void 0),ra=Object(d["a"])([Object(h["a"])({components:{SkyImage:Nt,ButtonIcon:ie}})],ra);var na=ra,sa=na,oa=(a("7aa4"),Object(j["a"])(sa,ta,aa,!1,null,"67027f74",null)),ca=oa.exports,ia=function(e){Object(b["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e.error="",e.date=z(),e.areaIds=F(),e.minTemperature=K(-100),e.maxTemperature=X(100),e.skys=Y(),e.matchedLocations=[],e}return Object(l["a"])(a,[{key:"created",value:function(){console.log("T",this.maxTemperature),this.date&&this.areaIds.length>0&&this.skys.length>0?this.search():(this.loading=!1,this.error="Sorry, some criteria are missing. Please try again.")}},{key:"search",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(this.areaIds.map((function(e){return ea.getWeather(a.date,e)})));case 3:t=e.sent,t.forEach((function(e){var t=te(e,a.minTemperature,a.maxTemperature,a.skys);a.matchedLocations=[].concat(Object(Et["a"])(a.matchedLocations),Object(Et["a"])(t))})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.error="Sorry, an error occurred. Please refresh the page or try again.";case 10:return e.prev=10,this.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"restart",value:function(){this.$router.push({name:"Home"})}},{key:"subtitle",get:function(){return 0===this.matchedLocations.length?"Sorry, no place matches your criteria.":1===this.matchedLocations.length?"Here is the perfect place for you:":"".concat(this.matchedLocations.length," places match your criteria:")}}]),a}(h["c"]);ia=Object(d["a"])([Object(h["a"])({components:{BaseQuote:He,BaseLoading:_,BaseError:A,ButtonIcon:ie,ButtonText:fe,LocationCard:ca}})],ia);var ua=ia,la=ua,ba=(a("2abb"),Object(j["a"])(la,Yt,Gt,!1,null,"27d27116",null)),pa=ba.exports;r["default"].use(P["a"]);var da=[{path:"/",name:"Home",component:qe},{path:"/when",name:"When",component:lt},{path:"/where",name:"Where",component:xt},{path:"/what",name:"What",component:Xt},{path:"/matches",name:"Matches",component:pa}],ha=new P["a"]({routes:da}),fa=ha,va=a("2f62");r["default"].use(va["a"]);var ma=new va["a"].Store({state:{dates:[],areas:[],skys:[],temperature:{}},mutations:{setAvailableData:function(e,t){var a=t.dates,r=t.areas,n=t.skys,s=t.temperature;e.dates=a,e.areas=r,e.skys=n,e.temperature=s}},actions:{fetchAvailableData:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,ea.getAvailableData();case 3:r=t.sent,a("setAvailableData",r);case 5:case"end":return t.stop()}}),t)})))()}},modules:{}});r["default"].config.productionTip=!1,r["default"].use(s.a),new r["default"]({router:fa,store:ma,render:function(e){return e($)}}).$mount("#app")},cf06:function(e,t,a){"use strict";var r=a("17cd"),n=a.n(r);n.a},d2c8:function(e,t,a){},d405:function(e,t,a){},d8b0:function(e,t,a){},ecfd:function(e,t,a){"use strict";var r=a("0fba"),n=a.n(r);n.a},fb98:function(e,t,a){},fdff:function(e,t,a){"use strict";var r=a("5d73"),n=a.n(r);n.a}});
//# sourceMappingURL=app.2688d380.js.map